# ========================================
# Phase 3: Data Pipeline Configuration
# ========================================

# ========================================
# MySQL Source Configuration
# ========================================
MYSQL_HOST=mulasport-db-mysql-fra1-89664-do-user-7185962-0.b.db.ondigitalocean.com
MYSQL_PORT=25060
MYSQL_DATABASE=mulazamflatoddbet
MYSQL_USER=mulazamuser
MYSQL_PASSWORD=xyz_xlfwxqulxlfwxulABC

# ========================================
# ClickHouse Target Configuration
# ========================================
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=8123
CLICKHOUSE_NATIVE_PORT=9000
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=ClickHouse_Secure_Pass_2024!
CLICKHOUSE_DATABASE=analytics

# ========================================
# Kafka/Redpanda Configuration
# ========================================
KAFKA_BOOTSTRAP_SERVERS=redpanda:9092
KAFKA_CONNECT_URL=http://kafka-connect:8083

# ========================================
# Debezium Source Connector Configuration
# ========================================
DEBEZIUM_CONNECTOR_NAME=mysql-source-connector
DEBEZIUM_SERVER_ID=184054
DEBEZIUM_TOPIC_PREFIX=mysql

# Snapshot Mode Options:
# - initial: Do snapshot then start CDC (requires replication privileges) âœ… RECOMMENDED
# - initial_only: Do snapshot then stop (NO replication privileges needed)
# - schema_only: Skip snapshot, only CDC (requires replication privileges)
# - never: No snapshot, no CDC (not useful)
DEBEZIUM_SNAPSHOT_MODE=initial

# Table filtering (comma-separated, use * for all)
# Examples:
#   users,orders,products  (specific tables)
#   *                      (all tables)
DEBEZIUM_TABLE_INCLUDE_LIST=*

# ========================================
# ClickHouse Sink Connector Configuration
# ========================================
CLICKHOUSE_SINK_CONNECTOR_NAME=clickhouse-sink-connector
CLICKHOUSE_SINK_BATCH_SIZE=50000
CLICKHOUSE_SINK_FLUSH_INTERVAL_MS=30000
CLICKHOUSE_SINK_MAX_RETRIES=10

# ========================================
# Performance Settings
# ========================================
# Max tasks for parallel processing
DEBEZIUM_TASKS_MAX=1
CLICKHOUSE_SINK_TASKS_MAX=4

# Memory settings for connectors
CONNECTOR_PRODUCER_BUFFER_MEMORY=33554432
CONNECTOR_CONSUMER_MAX_POLL_RECORDS=500

# ========================================
# Monitoring Configuration
# ========================================
# How often to check progress (seconds)
MONITOR_INTERVAL_SECONDS=30

# Alert thresholds
ALERT_LAG_THRESHOLD=10000
ALERT_ERROR_THRESHOLD=10
